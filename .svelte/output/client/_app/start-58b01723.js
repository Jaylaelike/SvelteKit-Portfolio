var e=Object.defineProperty,t=Object.prototype.hasOwnProperty,s=Object.getOwnPropertySymbols,r=Object.prototype.propertyIsEnumerable,n=(t,s,r)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[s]=r,o=(e,o)=>{for(var a in o||(o={}))t.call(o,a)&&n(e,a,o[a]);if(s)for(var a of s(o))r.call(o,a)&&n(e,a,o[a]);return e};import{S as a,i,s as c,e as l,t as u,c as h,a as p,b as f,d,f as g,g as m,h as v,j as y,k as b,l as $,n as E,m as w,o as x,p as _,q as j,r as S,u as O,v as q,w as A,x as R,y as k,z as P,A as L,B as D,C as N,D as I,E as T,F as V,G as C,H as B,I as U,J as H,K as M,L as K,M as z,N as W,O as F}from"./chunks/index-fa90cfb2.js";function G(e){let t,s,r=e[1].stack+"";return{c(){t=l("pre"),s=u(r)},l(e){t=h(e,"PRE",{});var n=p(t);s=f(n,r),n.forEach(d)},m(e,r){g(e,t,r),m(t,s)},p(e,t){2&t&&r!==(r=e[1].stack+"")&&v(s,r)},d(e){e&&d(t)}}}function J(e){let t,s,r,n,o,a,i,c=e[1].message+"",w=e[1].stack&&G(e);return{c(){t=l("h1"),s=u(e[0]),r=y(),n=l("p"),o=u(c),a=y(),w&&w.c(),i=b()},l(l){t=h(l,"H1",{});var u=p(t);s=f(u,e[0]),u.forEach(d),r=$(l),n=h(l,"P",{});var g=p(n);o=f(g,c),g.forEach(d),a=$(l),w&&w.l(l),i=b()},m(e,c){g(e,t,c),m(t,s),g(e,r,c),g(e,n,c),m(n,o),g(e,a,c),w&&w.m(e,c),g(e,i,c)},p(e,[t]){1&t&&v(s,e[0]),2&t&&c!==(c=e[1].message+"")&&v(o,c),e[1].stack?w?w.p(e,t):(w=G(e),w.c(),w.m(i.parentNode,i)):w&&(w.d(1),w=null)},i:E,o:E,d(e){e&&d(t),e&&d(r),e&&d(n),e&&d(a),w&&w.d(e),e&&d(i)}}}function Y(e,t,s){let{status:r}=t,{error:n}=t;return e.$$set=e=>{"status"in e&&s(0,r=e.status),"error"in e&&s(1,n=e.error)},[r,n]}class X extends a{constructor(e){super(),i(this,e,Y,J,c,{status:0,error:1})}}function Q(e){let t,s,r;const n=[e[4]||{}];var o=e[2][1];function a(e){let t={};for(let s=0;s<n.length;s+=1)t=w(t,n[s]);return{props:t}}return o&&(t=new o(a())),{c(){t&&_(t.$$.fragment),s=b()},l(e){t&&j(t.$$.fragment,e),s=b()},m(e,n){t&&S(t,e,n),g(e,s,n),r=!0},p(e,r){const i=16&r?O(n,[q(e[4]||{})]):{};if(o!==(o=e[2][1])){if(t){N();const e=t;R(e.$$.fragment,1,0,(()=>{k(e,1)})),I()}o?(t=new o(a()),_(t.$$.fragment),A(t.$$.fragment,1),S(t,s.parentNode,s)):t=null}else o&&t.$set(i)},i(e){r||(t&&A(t.$$.fragment,e),r=!0)},o(e){t&&R(t.$$.fragment,e),r=!1},d(e){e&&d(s),t&&k(t,e)}}}function Z(e){let t,s;return t=new X({props:{status:e[0],error:e[1]}}),{c(){_(t.$$.fragment)},l(e){j(t.$$.fragment,e)},m(e,r){S(t,e,r),s=!0},p(e,s){const r={};1&s&&(r.status=e[0]),2&s&&(r.error=e[1]),t.$set(r)},i(e){s||(A(t.$$.fragment,e),s=!0)},o(e){R(t.$$.fragment,e),s=!1},d(e){k(t,e)}}}function ee(e){let t,s,r,n;const o=[Z,Q],a=[];function i(e,t){return e[1]?0:1}return t=i(e),s=a[t]=o[t](e),{c(){s.c(),r=b()},l(e){s.l(e),r=b()},m(e,s){a[t].m(e,s),g(e,r,s),n=!0},p(e,n){let c=t;t=i(e),t===c?a[t].p(e,n):(N(),R(a[c],1,1,(()=>{a[c]=null})),I(),s=a[t],s?s.p(e,n):(s=a[t]=o[t](e),s.c()),A(s,1),s.m(r.parentNode,r))},i(e){n||(A(s),n=!0)},o(e){R(s),n=!1},d(e){a[t].d(e),e&&d(r)}}}function te(e){let t,s=e[6]&&se(e);return{c(){t=l("div"),s&&s.c(),this.h()},l(e){t=h(e,"DIV",{id:!0,"aria-live":!0,"aria-atomic":!0,class:!0});var r=p(t);s&&s.l(r),r.forEach(d),this.h()},h(){x(t,"id","svelte-announcer"),x(t,"aria-live","assertive"),x(t,"aria-atomic","true"),x(t,"class","svelte-1j55zn5")},m(e,r){g(e,t,r),s&&s.m(t,null)},p(e,r){e[6]?s?s.p(e,r):(s=se(e),s.c(),s.m(t,null)):s&&(s.d(1),s=null)},d(e){e&&d(t),s&&s.d()}}}function se(e){let t,s;return{c(){t=u("Navigated to "),s=u(e[7])},l(r){t=f(r,"Navigated to "),s=f(r,e[7])},m(e,r){g(e,t,r),g(e,s,r)},p(e,t){128&t&&v(s,e[7])},d(e){e&&d(t),e&&d(s)}}}function re(e){let t,s,r,n;const o=[e[3]||{}];let a={$$slots:{default:[ee]},$$scope:{ctx:e}};for(let c=0;c<o.length;c+=1)a=w(a,o[c]);t=new e[8]({props:a});let i=e[5]&&te(e);return{c(){_(t.$$.fragment),s=y(),i&&i.c(),r=b()},l(e){j(t.$$.fragment,e),s=$(e),i&&i.l(e),r=b()},m(e,o){S(t,e,o),g(e,s,o),i&&i.m(e,o),g(e,r,o),n=!0},p(e,[s]){const n=8&s?O(o,[q(e[3]||{})]):{};2071&s&&(n.$$scope={dirty:s,ctx:e}),t.$set(n),e[5]?i?i.p(e,s):(i=te(e),i.c(),i.m(r.parentNode,r)):i&&(i.d(1),i=null)},i(e){n||(A(t.$$.fragment,e),n=!0)},o(e){R(t.$$.fragment,e),n=!1},d(e){k(t,e),e&&d(s),i&&i.d(e),e&&d(r)}}}function ne(e,t,s){let{status:r}=t,{error:n}=t,{stores:o}=t,{page:a}=t,{components:i}=t,{props_0:c=null}=t,{props_1:l=null}=t;const u=i[0];P("__svelte__",o),L(o.page.notify);let h=!1,p=!1,f=null;return D((()=>{const e=o.page.subscribe((()=>{h&&(s(6,p=!0),s(7,f=document.title))}));return s(5,h=!0),e})),e.$$set=e=>{"status"in e&&s(0,r=e.status),"error"in e&&s(1,n=e.error),"stores"in e&&s(9,o=e.stores),"page"in e&&s(10,a=e.page),"components"in e&&s(2,i=e.components),"props_0"in e&&s(3,c=e.props_0),"props_1"in e&&s(4,l=e.props_1)},e.$$.update=()=>{1536&e.$$.dirty&&o.page.set(a)},[r,n,i,c,l,h,p,f,u,o,a]}class oe extends a{constructor(e){super(),i(this,e,ne,re,c,{status:0,error:1,stores:9,page:10,components:2,props_0:3,props_1:4})}}let ae;const ie={},ce=function(e,t){if(!t)return e();if(void 0===ae){const e=document.createElement("link").relList;ae=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in ie)return;ie[e]=!0;const t=e.endsWith(".css"),s=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${s}`))return;const r=document.createElement("link");return r.rel=t?"stylesheet":ae,t||(r.as="script",r.crossOrigin=""),r.href=e,document.head.appendChild(r),t?new Promise(((e,t)=>{r.addEventListener("load",e),r.addEventListener("error",t)})):void 0}))).then((()=>e()))};function le(e){let t,s,r,n,o,a,i;return{c(){t=l("button"),s=T("svg"),r=T("line"),n=T("line"),o=T("line"),this.h()},l(e){t=h(e,"BUTTON",{class:!0});var a=p(t);s=h(a,"svg",{width:!0,height:!0,class:!0},1);var i=p(s);r=h(i,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0},1),p(r).forEach(d),n=h(i,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0},1),p(n).forEach(d),o=h(i,"line",{id:!0,x1:!0,y1:!0,x2:!0,y2:!0,class:!0},1),p(o).forEach(d),i.forEach(d),a.forEach(d),this.h()},h(){x(r,"id","top"),x(r,"x1","0"),x(r,"y1","2"),x(r,"x2","32"),x(r,"y2","2"),x(r,"class","svelte-mairjn"),x(n,"id","middle"),x(n,"x1","0"),x(n,"y1","12"),x(n,"x2","32"),x(n,"y2","12"),x(n,"class","svelte-mairjn"),x(o,"id","bottom"),x(o,"x1","0"),x(o,"y1","22"),x(o,"x2","32"),x(o,"y2","22"),x(o,"class","svelte-mairjn"),x(s,"width","32"),x(s,"height","24"),x(s,"class","svelte-mairjn"),x(t,"class","text-gray-500 hover:text-gray-700 cursor-pointer mr-4 border-none focus:outline-none svelte-mairjn"),V(t,"open",e[0])},m(c,l){g(c,t,l),m(t,s),m(s,r),m(s,n),m(s,o),a||(i=C(t,"click",e[1]),a=!0)},p(e,[s]){1&s&&V(t,"open",e[0])},i:E,o:E,d(e){e&&d(t),a=!1,i()}}}function ue(e,t,s){let{open:r=!1}=t;return e.$$set=e=>{"open"in e&&s(0,r=e.open)},[r,()=>s(0,r=!r)]}class he extends a{constructor(e){super(),i(this,e,ue,le,c,{open:0})}}function pe(e){let t,s,r,n,o,a,i,c,v,b,E,w,O,q,P,L,D,N,I,T,V,C,K,z,W,F,G,J,Y,X,Q,Z,ee,te,se,re,ne,oe,ae,ie,ce,le,ue;function pe(t){e[2](t)}let fe={};return void 0!==e[1]&&(fe.open=e[1]),c=new he({props:fe}),B.push((()=>U(c,"open",pe))),{c(){t=l("nav"),s=l("div"),r=l("a"),n=l("h1"),o=u("DC"),a=y(),i=l("div"),_(c.$$.fragment),b=y(),E=l("div"),w=l("a"),O=l("div"),q=u("Home"),L=y(),D=l("a"),N=l("div"),I=u("Projects"),V=y(),C=l("a"),K=l("div"),z=u("About"),F=y(),G=l("div"),J=l("a"),Y=l("div"),X=u("Home"),Z=y(),ee=l("a"),te=l("div"),se=u("Projects"),ne=y(),oe=l("a"),ae=l("div"),ie=u("About"),this.h()},l(e){t=h(e,"NAV",{class:!0});var l=p(t);s=h(l,"DIV",{class:!0});var u=p(s);r=h(u,"A",{href:!0});var g=p(r);n=h(g,"H1",{class:!0});var m=p(n);o=f(m,"DC"),m.forEach(d),g.forEach(d),a=$(u),i=h(u,"DIV",{class:!0});var v=p(i);j(c.$$.fragment,v),v.forEach(d),b=$(u),E=h(u,"DIV",{class:!0});var y=p(E);w=h(y,"A",{class:!0,href:!0});var x=p(w);O=h(x,"DIV",{class:!0});var _=p(O);q=f(_,"Home"),_.forEach(d),x.forEach(d),L=$(y),D=h(y,"A",{class:!0,href:!0});var S=p(D);N=h(S,"DIV",{class:!0});var A=p(N);I=f(A,"Projects"),A.forEach(d),S.forEach(d),V=$(y),C=h(y,"A",{class:!0,href:!0});var R=p(C);K=h(R,"DIV",{class:!0});var k=p(K);z=f(k,"About"),k.forEach(d),R.forEach(d),y.forEach(d),u.forEach(d),F=$(l),G=h(l,"DIV",{class:!0});var P=p(G);J=h(P,"A",{class:!0,href:!0});var T=p(J);Y=h(T,"DIV",{class:!0});var B=p(Y);X=f(B,"Home"),B.forEach(d),T.forEach(d),Z=$(P),ee=h(P,"A",{class:!0,href:!0});var U=p(ee);te=h(U,"DIV",{class:!0});var H=p(te);se=f(H,"Projects"),H.forEach(d),U.forEach(d),ne=$(P),oe=h(P,"A",{class:!0,href:!0});var M=p(oe);ae=h(M,"DIV",{class:!0});var W=p(ae);ie=f(W,"About"),W.forEach(d),M.forEach(d),P.forEach(d),l.forEach(d),this.h()},h(){x(n,"class","svelte-sponun"),x(r,"href","/"),x(i,"class","burger svelte-sponun"),x(O,"class",P=H("/"===e[0]&&"selected")+" svelte-sponun"),x(w,"class","button svelte-sponun"),x(w,"href","/"),x(N,"class",T=H("/projects"===e[0]&&"selected")+" svelte-sponun"),x(D,"class","button svelte-sponun"),x(D,"href","/projects"),x(K,"class",W=H("/about"===e[0]&&"selected")+" svelte-sponun"),x(C,"class","button svelte-sponun"),x(C,"href","/about"),x(E,"class","buttons svelte-sponun"),x(s,"class","innerContainer svelte-sponun"),x(Y,"class",Q=H("/"===e[0]&&"selected")+" svelte-sponun"),x(J,"class","button svelte-sponun"),x(J,"href","/"),x(te,"class",re=H("/projects"===e[0]&&"selected")+" svelte-sponun"),x(ee,"class","button svelte-sponun"),x(ee,"href","/projects"),x(ae,"class",ce=H("/about"===e[0]&&"selected")+" svelte-sponun"),x(oe,"class","button svelte-sponun"),x(oe,"href","/about"),x(G,"class","responsiveButtons buttons svelte-sponun"),x(t,"class",le=H(e[1]?"NavBar open":"NavBar")+" svelte-sponun")},m(e,l){g(e,t,l),m(t,s),m(s,r),m(r,n),m(n,o),m(s,a),m(s,i),S(c,i,null),m(s,b),m(s,E),m(E,w),m(w,O),m(O,q),m(E,L),m(E,D),m(D,N),m(N,I),m(E,V),m(E,C),m(C,K),m(K,z),m(t,F),m(t,G),m(G,J),m(J,Y),m(Y,X),m(G,Z),m(G,ee),m(ee,te),m(te,se),m(G,ne),m(G,oe),m(oe,ae),m(ae,ie),ue=!0},p(e,[s]){const r={};!v&&2&s&&(v=!0,r.open=e[1],M((()=>v=!1))),c.$set(r),(!ue||1&s&&P!==(P=H("/"===e[0]&&"selected")+" svelte-sponun"))&&x(O,"class",P),(!ue||1&s&&T!==(T=H("/projects"===e[0]&&"selected")+" svelte-sponun"))&&x(N,"class",T),(!ue||1&s&&W!==(W=H("/about"===e[0]&&"selected")+" svelte-sponun"))&&x(K,"class",W),(!ue||1&s&&Q!==(Q=H("/"===e[0]&&"selected")+" svelte-sponun"))&&x(Y,"class",Q),(!ue||1&s&&re!==(re=H("/projects"===e[0]&&"selected")+" svelte-sponun"))&&x(te,"class",re),(!ue||1&s&&ce!==(ce=H("/about"===e[0]&&"selected")+" svelte-sponun"))&&x(ae,"class",ce),(!ue||2&s&&le!==(le=H(e[1]?"NavBar open":"NavBar")+" svelte-sponun"))&&x(t,"class",le)},i(e){ue||(A(c.$$.fragment,e),ue=!0)},o(e){R(c.$$.fragment,e),ue=!1},d(e){e&&d(t),k(c)}}}function fe(e,t,s){let r=!1,{segment:n}=t;return e.$$set=e=>{"segment"in e&&s(0,n=e.segment)},e.$$.update=()=>{1&e.$$.dirty&&console.log(n)},[n,r,function(e){r=e,s(1,r)}]}class de extends a{constructor(e){super(),i(this,e,fe,pe,c,{segment:0})}}const ge={subscribe:e=>(()=>{const e=K("__svelte__");return{page:{subscribe:e.page.subscribe},navigating:{subscribe:e.navigating.subscribe},get preloading(){return console.error("stores.preloading is deprecated; use stores.navigating instead"),{subscribe:e.navigating.subscribe}},session:e.session}})().page.subscribe(e)};function me(e){let t,s,r,n,o,a,i,c,v,b,E;t=new de({props:{segment:e[0].path}});const w=e[2].default,O=z(w,e,e[1],null);return{c(){_(t.$$.fragment),s=y(),O&&O.c(),r=y(),n=l("footer"),o=u("Created by "),a=l("a"),i=u("Me"),c=u(" ❤️ with\r\n\t"),v=l("span"),b=u("Svelte"),this.h()},l(e){j(t.$$.fragment,e),s=$(e),O&&O.l(e),r=$(e),n=h(e,"FOOTER",{class:!0});var l=p(n);o=f(l,"Created by "),a=h(l,"A",{class:!0,href:!0});var u=p(a);i=f(u,"Me"),u.forEach(d),c=f(l," ❤️ with\r\n\t"),v=h(l,"SPAN",{class:!0});var g=p(v);b=f(g,"Svelte"),g.forEach(d),l.forEach(d),this.h()},h(){x(a,"class","me svelte-vxg1bn"),x(a,"href","about"),x(v,"class","svelte svelte-vxg1bn"),x(n,"class","svelte-vxg1bn")},m(e,l){S(t,e,l),g(e,s,l),O&&O.m(e,l),g(e,r,l),g(e,n,l),m(n,o),m(n,a),m(a,i),m(n,c),m(n,v),m(v,b),E=!0},p(e,[s]){const r={};1&s&&(r.segment=e[0].path),t.$set(r),O&&O.p&&2&s&&W(O,w,e,e[1],s,null,null)},i(e){E||(A(t.$$.fragment,e),A(O,e),E=!0)},o(e){R(t.$$.fragment,e),R(O,e),E=!1},d(e){k(t,e),e&&d(s),O&&O.d(e),e&&d(r),e&&d(n)}}}function ve(e,t,s){let r;F(e,ge,(e=>s(0,r=e)));let{$$slots:n={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&s(1,o=e.$$scope)},[r,o,n]}var ye=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:class extends a{constructor(e){super(),i(this,e,ve,me,c,{})}}});const be=[()=>ce((()=>import("./pages/index.svelte-efb5a03a.js")),void 0),()=>ce((()=>import("./pages/projects.svelte-1ff6320e.js")),void 0),()=>ce((()=>import("./pages/about.svelte-abea13c9.js")),void 0)],$e=[[/^\/$/,[be[0]]],[/^\/projects\/?$/,[be[1]]],[/^\/about\/?$/,[be[2]]]];function Ee(e){for(;e&&"A"!==e.nodeName.toUpperCase();)e=e.parentNode;return e}const we=[];function xe(e,t=E){let s;const r=[];function n(t){if(c(e,t)&&(e=t,s)){const t=!we.length;for(let s=0;s<r.length;s+=1){const t=r[s];t[1](),we.push(t,e)}if(t){for(let e=0;e<we.length;e+=2)we[e][0](we[e+1]);we.length=0}}}return{set:n,update:function(t){n(t(e))},subscribe:function(o,a=E){const i=[o,a];return r.push(i),1===r.length&&(s=t(n)||E),o(e),()=>{const e=r.indexOf(i);-1!==e&&r.splice(e,1),0===r.length&&(s(),s=null)}}}}function _e(){return{x:pageXOffset,y:pageYOffset}}class je{constructor({base:e,routes:t}){this.base=e,this.routes=t,this.history=window.history||{pushState:()=>{},replaceState:()=>{},scrollRestoration:"auto"}}init(e){let t;this.renderer=e,e.router=this,"scrollRestoration"in this.history&&(this.history.scrollRestoration="manual"),addEventListener("beforeunload",(()=>{this.history.scrollRestoration="auto"})),addEventListener("load",(()=>{this.history.scrollRestoration="manual"})),addEventListener("scroll",(()=>{clearTimeout(t),t=setTimeout((()=>{const e=o(o({},history.state||{}),{"sveltekit:scroll":_e()});history.replaceState(e,document.title,window.location.href)}),50)})),addEventListener("click",(e=>{if(e.button||1!==e.which)return;if(e.metaKey||e.ctrlKey||e.shiftKey||e.altKey)return;if(e.defaultPrevented)return;const t=Ee(e.target);if(!t)return;if(!t.href)return;const s="object"==typeof t.href&&"SVGAnimatedString"===t.href.constructor.name,r=String(s?t.href.baseVal:t.href);if(r===location.href)return void(location.hash||e.preventDefault());if(t.hasAttribute("download")||"external"===t.getAttribute("rel"))return;if(s?t.target.baseVal:t.target)return;const n=new URL(r);if(n.pathname===location.pathname&&n.search===location.search)return;const o=this.parse(n);if(o){const s=t.hasAttribute("sveltekit:noscroll");this.history.pushState({},"",n.href),this._navigate(o,s?_e():null,[],n.hash),e.preventDefault()}})),addEventListener("popstate",(e=>{if(e.state){const t=new URL(location.href),s=this.parse(t);s?this._navigate(s,e.state["sveltekit:scroll"],[]):location.href=location.href}})),document.body.setAttribute("tabindex","-1"),this.history.replaceState({},"",location.href)}parse(e){if(e.origin!==location.origin)return null;if(!e.pathname.startsWith(this.base))return null;const t=e.pathname.slice(this.base.length)||"/",s=this.routes.filter((([e])=>e.test(t)));if(s.length>0){const r=new URLSearchParams(e.search);return{id:`${t}?${r}`,routes:s,path:t,query:r}}}async goto(e,{noscroll:t=!1,replaceState:s=!1}={},r){const n=new URL(e,function(e){let t=e.baseURI;if(!t){const s=e.getElementsByTagName("base");t=s.length?s[0].href:e.URL}return t}(document)),o=this.parse(n);return o?(this.history[s?"replaceState":"pushState"]({},"",e),this._navigate(o,t?_e():null,r,n.hash)):(location.href=e,new Promise((()=>{})))}async _navigate(e,t,s,r){this.renderer.notify({path:e.path,query:e.query}),location.pathname.endsWith("/")&&"/"!==location.pathname&&history.replaceState({},"",`${location.pathname.slice(0,-1)}${location.search}`),await this.renderer.update(e,s),document.body.focus();const n=r&&document.getElementById(r.slice(1));t?scrollTo(t.x,t.y):n?scrollTo(0,n.getBoundingClientRect().top+scrollY):scrollTo(0,0)}}function Se(e){if(e.error){const t="string"==typeof e.error?new Error(e.error):e.error,s=e.status;return t instanceof Error?!s||s<400||s>599?(console.warn('"error" returned from load() without a valid status code — defaulting to 500'),{status:500,error:t}):{status:s,error:t}:{status:500,error:new Error(`"error" property returned from load() must be a string or instance of Error, received type "${typeof t}"`)}}if(e.redirect){if(!e.status||3!==Math.floor(e.status/100))return{status:500,error:new Error('"redirect" property returned from load() must be accompanied by a 3xx status code')};if("string"!=typeof e.redirect)return{status:500,error:new Error('"redirect" property returned from load() must be a string')}}return e}function Oe(e){const t=xe(e);let s=!0;return{notify:function(){s=!0,t.update((e=>e))},set:function(e){s=!1,t.set(e)},subscribe:function(e){let r;return t.subscribe((t=>{(void 0===r||s&&t!==r)&&e(r=t)}))}}}class qe{constructor({Root:e,layout:t,target:s,session:r,host:n}){this.Root=e,this.layout=t,this.host=n,this.router=null,this.target=s,this.started=!1,this.current={page:null,query:null,session_changed:!1,nodes:[],contexts:[]},this.caches=new Map,this.prefetching={id:null,promise:null},this.stores={page:Oe({}),navigating:xe(null),session:xe(r)},this.$session=null,this.root=null;const o=e=>{const t=Ee(e.target);t&&t.hasAttribute("sveltekit:prefetch")&&this.prefetch(new URL(t.href))};let a;addEventListener("touchstart",o),addEventListener("mousemove",(e=>{clearTimeout(a),a=setTimeout((()=>{o(e)}),20)}));let i=!1;this.stores.session.subscribe((async e=>{if(this.$session=e,!i)return;this.current.session_changed=!0;const t=this.router.parse(new URL(location.href));this.update(t,[])})),i=!0}async start(e,t,s){const r={stores:this.stores,error:s,status:t,page:e.page};if(s)r.components=[this.layout.default];else{const t=await this._hydrate(e);if(t.redirect)throw new Error("TODO client-side redirects");Object.assign(r,t.props),this.current=t.state}this.root=new this.Root({target:this.target,props:r,hydrate:!0}),this.started=!0}notify({path:e,query:t}){dispatchEvent(new CustomEvent("sveltekit:navigation-start")),this.stores.navigating.set({from:{path:this.current.page.path,query:this.current.page.query},to:{path:e,query:t}})}async update(e,t){const s=this.token={},r=await this._get_navigation_result(e);if(s===this.token){if(r.reload)location.reload();else if(r.redirect){if(!(t.length>10||t.includes(this.current.page.path)))return void this.router.goto(r.redirect,{replaceState:!0},[...t,this.current.page.path]);this.root.$set({status:500,error:new Error("Redirect loop")})}else this.current=r.state,this.root.$set(r.props),this.stores.navigating.set(null),await 0;dispatchEvent(new CustomEvent("sveltekit:navigation-end")),this.prefetching.promise=null,this.prefetching.id=null}}async prefetch(e){const t=this.router.parse(e);if(t)return this.prefetching.promise=this._get_navigation_result(t),this.prefetching.id=t.id,await this.prefetching.promise;throw new Error(`Could not prefetch ${e.href}`)}async _get_navigation_result(e){if(this.prefetching.id===e.id)return this.prefetching.promise;for(let t=0;t<e.routes.length;t+=1){const s=e.routes[t],[r,n,o]=s;if(1===s.length)return{reload:!0};let a=t+1;for(;a<e.routes.length;){const t=e.routes[a];if(t[0].toString()!==r.toString())break;1!==t.length&&t[1].forEach((e=>e())),a+=1}const i=n.map((e=>e())),c={host:this.host,path:e.path,params:o?o(s[0].exec(e.path)):{},query:e.query},l=await this._hydrate({nodes:i,page:c});if(l)return l}return{state:{page:null,query:null,session_changed:!1,contexts:[],nodes:[]},props:{status:404,error:new Error(`Not found: ${e.path}`)}}}async _hydrate({nodes:e,page:n}){const a={status:200,error:null,components:[]},i=(e,n)=>{if(!this.started){const n="string"==typeof e?e:e.url,o=document.querySelector(`script[type="svelte-data"][url="${n}"]`);if(o){const e=JSON.parse(o.textContent),{body:n}=e,a=((e,n)=>{var o={};for(var a in e)t.call(e,a)&&n.indexOf(a)<0&&(o[a]=e[a]);if(null!=e&&s)for(var a of s(e))n.indexOf(a)<0&&r.call(e,a)&&(o[a]=e[a]);return o})(e,["body"]);return Promise.resolve(new Response(n,a))}}return fetch(e,n)},c=n.query.toString(),l={page:n,query:c,session_changed:!1,nodes:[],contexts:[]},u=[this.layout,...e],h=[];let p,f;const d={params:Object.keys(n.params).filter((e=>!this.current.page||this.current.page.params[e]!==n.params[e])),query:c!==this.current.query,session:this.current.session_changed,context:!1};try{for(let e=0;e<u.length;e+=1){const t=this.current.nodes[e],s=this.current.contexts[e],{default:r,preload:g,load:m}=await u[e];if(a.components[e]=r,g)throw new Error("preload has been deprecated in favour of load. Please consult the documentation: https://kit.svelte.dev/docs#load");if(!t||r!==t.component||d.params.some((e=>t.uses.params.has(e)))||d.query&&t.uses.query||d.session&&t.uses.session||d.context&&t.uses.context){const t=n.path+c,s=this.caches.get(r),u=s&&s.get(t);let g,v;if(!u||d.context&&u.node.uses.context){g={component:r,uses:{params:new Set,query:!1,session:!1,context:!1}};const e={};for(const s in n.params)Object.defineProperty(e,s,{get:()=>(g.uses.params.add(s),n.params[s]),enumerable:!0});const t=this.$session;if(m&&(v=await m.call(null,{page:{host:n.host,path:n.path,params:e,get query(){return g.uses.query=!0,n.query}},get session(){return g.uses.session=!0,t},get context(){return g.uses.context=!0,o({},p)},fetch:i}),!v))return}else({node:g,loaded:v}=u);if(v){if(v=Se(v),v.error)return a.error=v.error,a.status=v.status||500,l.nodes=[],{redirect:f,props:a,state:l};if(v.redirect){f=v.redirect;break}if(v.context&&(d.context=!0,p=o(o({},p),v.context)),v.maxage){this.caches.has(r)||this.caches.set(r,new Map);const e=this.caches.get(r),s={node:g,loaded:v};e.set(t,s);let n=!1;const o=setTimeout((()=>{a()}),1e3*v.maxage),a=()=>{e.get(t)===s&&e.delete(t),i(),clearTimeout(o)},i=this.stores.session.subscribe((()=>{n&&a()}));n=!0}h[e]=v.props}l.nodes[e]=g,l.contexts[e]=p}else l.nodes[e]=t,l.contexts[e]=p=s}(await Promise.all(h)).forEach(((e,t)=>{e&&(a[`props_${t}`]=e)})),this.current.page&&n.path===this.current.page.path&&!d.query||(a.page=n)}catch(g){a.error=g,a.status=500,l.nodes=[]}return{redirect:f,props:a,state:l}}}async function Ae({paths:e,target:t,session:s,error:r,status:n,nodes:o,page:a}){const i=new je({base:e.base,routes:$e}),c=new qe({Root:oe,layout:ye,target:t,session:s,host:a.host});i.init(c),await c.start({nodes:o,page:a},n,r),dispatchEvent(new CustomEvent("sveltekit:start"))}export{Ae as start};
